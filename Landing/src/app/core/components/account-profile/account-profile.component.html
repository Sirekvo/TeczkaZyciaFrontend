<!-- Hero Start -->
<section class="bg-profile d-table w-100 bg-primary"
  style="background: url('assets/images/main/bg.png') center center;" id="home">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="card public-profile rounded shadow-sm" style="z-index: 1;">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-lg-2 col-md-3 text-md-start text-center">
                <img src="assets/images/main/avatar.jpg" class="avatar avatar-large rounded-circle shadow d-block mx-auto"
                  alt="">
              </div>
              <!--end col-->
                <div class="col-lg-10 col-md-9">
                  <div class="row align-items-end">
                    <div class="col-md-7 text-md-start text-center mt-4 mt-sm-0">
                      <h3 class="title mb-0">{{name}} {{lastName}}</h3>
                      <small class="text-muted h6 me-2">{{email}}</small>
                      <small class="text-muted h6 me-2">Twój unikalny kod: {{code}}</small>
                    </div>
                    <!--end col-->
                  </div>
                  <!--end row-->
                </div>
              <!--end col-->
            </div>
            <!--end row-->
          </div>
        </div>
      </div>
      <!--end col-->
    </div>
    <!--end row-->
  </div>
  <!--ed container-->
</section>
<!--end section-->
<!-- Hero End -->

<!-- Profile Start -->
<section class="section mt-60">
  <div class="container mt-lg-3">
    <div class="row">
      <div class="col-lg-4 col-md-6 col-12 d-lg-block d-none">
        <div class="sidebar sticky-bar px-4 rounded shadow" >
          <div class="widget">
            <ul class="list-unstyled sidebar-nav mb-0" id="navmenu-nav">
              <li class="navbar-item account-menu px-0 active">
                <a routerLink="/account-profile" class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-user-circle"></i></span>
                  <h6 class="mb-0 ms-2 ">Profil</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a routerLink="/account-members" class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-syringe"></i></span>
                  <h6 class="mb-0 ms-2">Szczepienia</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a routerLink="/account-works" class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-file"></i></span>
                  <h6 class="mb-0 ms-2">Wyniki krwi</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a routerLink="/account-messages"
                  class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-folder-open"></i></span>
                  <h6 class="mb-0 ms-2">Pełna teczka badań</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a routerLink="/account-payments"
                  class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-stethoscope"></i></span>
                  <h6 class="mb-0 ms-2">Wizyty u specjalistów</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a routerLink="/account-setting" class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-setting"></i></span>
                  <h6 class="mb-0 ms-2">Ustawienia</h6>
                </a>
              </li>

              <li class="navbar-item account-menu px-0 mt-2">
                <a (click)=logout() routerLink="/login" class="navbar-link d-flex rounded shadow align-items-center py-2 px-4">
                  <span class="h4 mb-0"><i class="uil uil-sign-out-alt"></i></span>
                  <h6 class="mb-0 ms-2">Wyloguj się</h6>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!--end col-->

      <div class="col-lg-8 col-12 position-relative">
        <div class="pb-4">
          <div class="d-inline-flex col-12">
            <h3 class="col-11">Osoby kontaktowe</h3>
            <button class="h3 text-primary bg-white border-0 p-0 m-0" ngbTooltip="Ustawienia">
              <i class="uil uil-setting"></i>
            </button>
          </div>
          <hr>
          <div *ngFor="let contact of contactList" class="col-4 col-sm-4 col-md-4 d-inline-block text-center">
            <div class="mx-auto bg-soft-primary rounded-circle position-relative mb-1"
                 style="height: 90px; width: 90px;">
              <i class="uil uil-user h1 mx-auto position-absolute top-50 start-50 translate-middle"></i>
            </div>
            <h6>{{contact.phoneNumber}}</h6>
            <p *ngIf="(contact.contactPersonRole == 'FAMILY')">Rodzina</p>
            <p *ngIf="(contact.contactPersonRole == 'FRIEND')">Znajomy</p>
          </div>
        </div>

        <div class="pb-4">
          <div class="d-inline-flex col-12">
            <h3 class="col-11">Alergie i uczulenia</h3>
            <button class="h3 text-primary bg-white border-0 p-0 m-0" ngbTooltip="Ustawienia">
              <i class="uil uil-setting"></i>
            </button>
          </div>
          <hr>
          <table class=" table mb-0 table-center">
            <thead>
            <tr>
              <th scope="col" class="border-bottom" style="width:10%;">#</th>
              <th scope="col" class="border-bottom" style="width:30%;">Nazwa</th>
              <th scope="col" class="border-bottom" style="width:50%;">Typ</th>
            </tr>
            </thead>
            <tbody>
              <tr *ngFor="let allergy of allegriesList; let indexOfElement=index;">
                <td>{{indexOfElement+1}}</td>
                <td>{{allergy.name}}</td>
                <td *ngIf="(allergy.type == 'ALLERGY')" >Alergia </td>
                <td *ngIf="(allergy.type == 'SENSITIVITY')">Uczulenie </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="pb-4">
          <div class="d-inline-flex col-12">
            <h3 class="col-11">Przyjmowane leki</h3>
            <button class="h3 text-primary bg-white border-0 p-0 m-0" ngbTooltip="Ustawienia">
              <i class="uil uil-setting"></i>
            </button>
          </div>
          <hr>
          <table class="table mb-0 table-center">
            <thead>
            <tr>
              <th scope="col" class="border-bottom" style="width:10%;">#</th>
              <th scope="col" class="border-bottom" style="width:30%;">Nazwa leku</th>
              <th scope="col" class="border-bottom" >Dawka</th>
              <th scope="col" class="border-bottom" >Co ile</th>
            </tr>
            </thead>
            <tbody>
              <tr *ngFor="let tabs of medicationsList ; let indexOfElement=index;">
              <td>{{indexOfElement+1}}</td>
              <td>{{tabs.name}}</td>
              <td>{{tabs.portion}}</td>
              <td>{{tabs.howOften}}</td>
              </tr>
            </tbody>
          </table>
          <!--<div *ngFor="let tabs of medicationsList" class="col-6 col-sm-4 col-md-4 d-inline-flex border-2 rounded" style="border:solid;">
            <div class="mx-auto w-100 h-100">
              <h6 class="text-center"><b>{{tabs.name}}</b></h6>
              <h6 class="ms-3"><b>Dawka:</b> {{tabs.portion}}</h6>
              <h6 class="ms-3"><b>Jak często:</b> {{tabs.howOften}}</h6>
            </div>
          </div>-->
        </div>

        <div class="pb-4 position-relative">
          <div class="d-inline-flex col-12">
            <h3 class="col-11">Choroby przewlekłe</h3>
            <button class="h3 text-primary bg-white border-0 p-0 m-0" (click)="show_illness_settings()" ngbTooltip="Ustawienia">
              <i class="uil uil-setting"></i>
            </button>
          </div>
          <hr>
          <table class=" table mb-0 table-center">
            <thead>
            <tr>
              <th scope="col" class="border-bottom" style="width:10%;">#</th>
              <th scope="col" class="border-bottom" style="width:80%;">Nazwa choroby</th>
            </tr>
            </thead>
            <tbody>
              <tr *ngFor="let illness of illnessList; let indexOfElement=index;">
                <td >{{indexOfElement+1}}</td>
                <td>{{illness.name}}</td>
                <!--<td><input class="btn btn-danger btn-sm align-items-center" type="button" value="-" (click)="delete_row_contact(indexOfElement)"></td>-->
              </tr>
            </tbody>
          </table>
        </div>

        <div *ngIf="isVisible_illness" class="col-12 position-absolute sticky-bar" style="top:20%">
          <div class="row justify-content-center align-items-center">
            <div class="col-lg-8 col-md-5 mb-5">
              <div class="card rounded bg-light overflow-hidden border-1 px-3 py-4 mb-5">
                <form id="illnessForm" #fam="ngForm" >
                  <h4 class="title text-center">Choroby przewlełe</h4>
                  <div class="row">
                    <p class="text-secondary text-center para-desc mb-2 mx-auto">Wpisz poniżej nazwe choroby przewlekłej, która ci towarzyszy</p>
                    <div class="col-lg-12">
                      <div class="mb-3 mt-4">
                        <label class="form-label">Nazwa choroby<span class="text-danger">*</span></label>
                        <div class="form-icon position-relative">
                          <i-feather name="edit-2" class="fea icon-sm icons d-flex"></i-feather>
                          <input type="text" name="name" class="form-control ps-5 pt-2" placeholder="Nazwa choroby" ngModel required minlength="3">
                        </div>
                      </div>
                    </div>
                    <div class="col-12 mb-0 pb-4 text-center w-100">
                      <p class="text-secondary para-desc mb-0">Możesz dodać maksymalnie 5 chorób przewlekłych</p>
                      <div class="col-5 justify-content-center w-100">
                        <button type="submit" name="push" class="btn btn-success"  [disabled]="!fam.valid">Dodaj</button>
                      </div>
                    </div>
                    <!--end col-->

                    <div name="table" class="p-4" >
                      <div class="table-responsive bg-white shadow rounded" id="illnessTable">
                        <div></div>
                        <table class=" table mb-0 table-center">
                          <thead>
                          <tr>
                            <th scope="col" class="border-bottom" >#</th>
                            <th scope="col" class="border-bottom" >Nazwa choroby</th>
                            <th scope="col" class="border-bottom" ></th>
                          </tr>
                          </thead>
                          <tbody>
                          <tr *ngFor="let illness of illnessList ; let indexOfElement=index;">
                            <td>{{indexOfElement+1}}</td>
                            <td>{{illness.name}}</td>
                            <td><input class="btn btn-danger btn-sm align-items-center" type="button" value="-" ></td>
                          </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <!--end table-->

                    <div class="col mb-0">
                      <div class="d-grid">
                        <button class="btn btn-secondary">Pomiń</button>
                      </div>
                    </div>
                    <div class="col mb-0">
                      <div class="d-grid">
                        <button class="btn btn-primary" >Gotowe</button>
                      </div>
                    </div>
                    <!--end col-->
                  </div>
                  <!--end row-->
                </form>

              </div>
              <!---->
            </div>
            <!--end col-->
          </div>
          <!--end row-->
        </div>

      </div>
      <!--end col-->
    </div>
    <!--end row-->
  </div>
  <!--end container-->

</section>
<!--end section-->
<!-- Profile End -->

<!-- Back to top -->
<a href="javascript: void(0);" class="btn btn-icon btn-primary back-to-top" id="back-to-top" [ngxScrollTo]="'#home'">
  <i-feather name="arrow-up" class="icons"></i-feather>
</a>
<!-- Back to top -->