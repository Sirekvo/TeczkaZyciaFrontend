!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("ngx-window-token"),require("rxjs"),require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-clipboard",["exports","ngx-window-token","rxjs","@angular/common","@angular/core"],e):e(t["ngx-clipboard"]={},t.i2,t.rxjs,t.ng.common,t.ng.core)}(this,function(t,e,n,o,r){"use strict";var i=function(){function t(t,e){this.document=t,this.window=e,this.copySubject=new n.Subject,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return t.prototype.configure=function(t){this.config=t},t.prototype.copy=function(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});var e=this.copyFromContent(t);return e?this.pushCopyResponse({content:t,isSuccess:e}):this.pushCopyResponse({isSuccess:!1,content:t})},Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),t.prototype.isTargetValid=function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},t.prototype.copyFromInputElement=function(t,e){void 0===e&&(e=!0);try{this.selectTarget(t);var n=this.copyText();return this.clearSelection(e?t:undefined,this.window),n&&this.isCopySuccessInIE11()}catch(o){return!1}},t.prototype.isCopySuccessInIE11=function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))},t.prototype.copyFromContent=function(t,e){if(void 0===e&&(e=this.document.body),this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(o){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;var n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement),n},t.prototype.destroy=function(t){void 0===t&&(t=this.document.body),this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=undefined)},t.prototype.selectTarget=function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length},t.prototype.copyText=function(){return this.document.execCommand("copy")},t.prototype.clearSelection=function(t,e){t&&t.focus(),e.getSelection().removeAllRanges()},t.prototype.createTempTextArea=function(t,e){var n,o="rtl"===t.documentElement.getAttribute("dir");(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[o?"right":"left"]="-9999px";var r=e.pageYOffset||t.documentElement.scrollTop;return n.style.top=r+"px",n.setAttribute("readonly",""),n},t.prototype.pushCopyResponse=function(t){this.copySubject.next(t)},t.prototype.pushCopyReponse=function(t){this.pushCopyResponse(t)},t.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Inject,args:[o.DOCUMENT]}]},{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[e.WINDOW]}]}]},t.ngInjectableDef=r.defineInjectable({factory:function(){return new t(r.inject(o.DOCUMENT),r.inject(e.WINDOW,8))},token:t,providedIn:"root"}),t}(),s=function(){function t(t){this.clipboardSrv=t,this.cbOnSuccess=new r.EventEmitter,this.cbOnError=new r.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.clipboardSrv.destroy(this.container)},t.prototype.onClick=function(t){this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,t):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,t):this.handleResult(!1,undefined,t)},t.prototype.handleResult=function(t,e,n){var o={isSuccess:t,event:n};t?(o=Object.assign(o,{content:e,successMessage:this.cbSuccessMsg}),this.cbOnSuccess.emit(o)):this.cbOnError.emit(o),this.clipboardSrv.pushCopyResponse(o)},t.decorators=[{type:r.Directive,args:[{selector:"[ngxClipboard]"}]}],t.ctorParameters=function(){return[{type:i}]},t.propDecorators={targetElm:[{type:r.Input,args:["ngxClipboard"]}],container:[{type:r.Input}],cbContent:[{type:r.Input}],cbSuccessMsg:[{type:r.Input}],cbOnSuccess:[{type:r.Output}],cbOnError:[{type:r.Output}],onClick:[{type:r.HostListener,args:["click",["$event.target"]]}]},t}(),c=function(){function t(t,e,n){this._clipboardService=t,this._viewContainerRef=e,this._templateRef=n}return t.prototype.ngOnInit=function(){this._clipboardService.isSupported&&this._viewContainerRef.createEmbeddedView(this._templateRef)},t.decorators=[{type:r.Directive,args:[{selector:"[ngxClipboardIfSupported]"}]}],t.ctorParameters=function(){return[{type:i},{type:r.ViewContainerRef},{type:r.TemplateRef}]},t}(),p=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[o.CommonModule],declarations:[s,c],exports:[s,c]}]}],t}();t.ClipboardService=i,t.ClipboardDirective=s,t.ClipboardModule=p,t.ClipboardIfSupportedDirective=c,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-clipboard.umd.min.js.map